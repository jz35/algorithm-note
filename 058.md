# 第58课：洪水填充算法

### 基本概念

- **定义**：洪水填充是一种简单的技巧，通过设置路径信息进行剪枝和统计，类似于感染的过程。路径信息不撤销，以保证每一片的感染过程可以得到区分。虽然看似是暴力递归过程，但其时间复杂度非常好，遍历次数和样本数量的规模一致。
- **前置知识**：需要掌握讲解038中的带路径的递归过程解析。

### 应用题目

#### 题目1：岛屿数量

- **问题描述**：给定一个由 '1'（陆地）和 '0'（水）组成的二维网格，计算网格中岛屿的数量。岛屿总是被水包围，且只能由水平方向和/或竖直方向上相邻的陆地连接形成。网格的四条边均被水包围。
- **解题思路**：使用洪水填充算法，从每个未访问的陆地单元格开始，递归地将其相邻的陆地单元格标记为已访问，直到没有更多的相邻陆地单元格。每次从一个新的陆地单元格开始洪水填充，就找到了一个岛屿。

#### 题目2：被围绕的区域

- **问题描述**：给定一个 m x n 的矩阵 board，由若干字符 'X' 和 'O' 组成，找到所有被 'X' 围绕的区域，并将这些区域里所有的 'O' 用 'X' 填充。
- **解题思路**：从矩阵的边界开始，使用洪水填充算法，将所有与边界相连的 'O' 标记为特殊字符（例如 'T'）。然后遍历整个矩阵，将所有未标记的 'O' 替换为 'X'，并将标记的 'T' 恢复为 'O'。

#### 题目3：最大人工岛

- **问题描述**：给定一个大小为 n * n 的二进制矩阵 grid，最多只能将一格 0 变成 1。返回执行此操作后，grid 中最大的岛屿面积是多少？岛屿由一组上、下、左、右四个方向相连的 1 形成。
- **解题思路**：首先使用洪水填充算法计算每个岛屿的面积，并将每个岛屿的单元格标记为其对应的岛屿编号。然后遍历整个矩阵，对于每个 0，检查其相邻的单元格，计算将该 0 变成 1 后形成的岛屿面积，取最大值。

#### 题目4：打砖块

- **问题描述**：给定一个 m * n 的二元网格 grid，其中 1 表示砖块，0 表示空白。砖块稳定的前提是：一块砖直接连接到网格的顶部，或者至少有一块相邻的砖块稳定。给定一个数组 hits，表示需要依次消除砖块的位置。返回一个数组 result，其中 result[i] 表示第 i 次消除操作对应掉落的砖块数目。
- **解题思路**：使用并查集（Union-Find）来维护砖块的连接关系。首先将所有被击中的砖块标记为虚拟的顶部节点，然后从底部向上逐层处理砖块，使用洪水填充算法将相邻的砖块合并到同一个集合中。最后，根据并查集的信息，计算每次消除操作后掉落的砖块数目。

### 总结

洪水填充算法是一种基于递归的算法，适用于处理二维网格中的连通性问题。它通过设置路径信息进行剪枝和统计，可以高效地解决诸如岛屿数量、被围绕的区域、最大人工岛和打砖块等问题。掌握该算法的关键在于理解其递归过程以及如何利用路径信息进行剪枝和统计。