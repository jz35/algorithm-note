# 第49课：滑动窗口技巧和相关题目

好的，我来帮你整理一下这个算法题的解题思路和代码实现。

### 问题描述

在一条环路上有 n 个加油站，每个加油站有 gas[i] 升汽油。从第 i 个加油站开往第 i+1 个加油站需要消耗 cost[i] 升汽油。你需要找到一个起点，使得汽车可以绕环路行驶一周。如果存在这样的起点，返回其编号；否则返回 -1。

### 输入输出

- **输入**：两个整数数组 `gas` 和 `cost`。
- **输出**：一个整数，表示可以作为起点的加油站编号，或者 -1。

### 示例

1. **输入**：`gas = [1,2,3,4,5], cost = [3,4,5,1,2]`
   - **输出**：`3`
   - **解释**：从第 3 个加油站出发，可以绕环路行驶一周。
2. **输入**：`gas = [2,3,4], cost = [3,4,3]`
   - **输出**：`-1`
   - **解释**：无法找到一个起点使得汽车可以绕环路行驶一周。

### 解题思路

1. **贪心算法**：
   - 从每个加油站出发，尝试计算是否可以完成一圈。
   - 如果在某个加油站无法继续前进，跳过该加油站，尝试下一个加油站。
   - 如果某个加油站可以完成一圈，返回该加油站的编号。
   - 如果所有加油站都无法完成一圈，返回 -1。
2. **滑动窗口**：
   - 使用滑动窗口来模拟从某个加油站出发的行驶过程。
   - 维护一个变量 `sum`，表示当前油箱中的油量。
   - 如果 `sum` 为负数，说明无法从当前起点出发，尝试下一个起点。

### 代码实现

```cpp
class Solution {
public:
    int canCompleteCircuit(vector<int>& gas, vector<int>& cost) {
        int n = gas.size();
        // 遍历每个加油站，尝试以该站为起点
        for (int l = 0, r = 0, sum; l < n; l = r + 1, r = l) {
            sum = 0;
            // 尝试从当前加油站出发，进行循环
            while (sum + gas[r % n] - cost[r % n] >= 0) {
                // 如果已经走完一圈，返回起点
                if (r - l + 1 == n) {
                    return l;
                }
                // 更新当前剩余的油量
                sum += gas[r % n] - cost[r % n];
                // 右扩窗口
                r++;
            }
        }
        return -1;
    }
};
```

### 代码说明

1. **变量初始化**：
   - `total_tank`：记录总油量。
   - `curr_tank`：记录当前油量。
   - `start`：记录起始加油站。
2. **遍历加油站**：
   - 对每个加油站，更新 `total_tank` 和 `curr_tank`。
   - 如果 `curr_tank` 为负数，说明从当前起点无法继续前进，重置起始点为下一个加油站。
3. **返回结果**：
   - 如果 `total_tank` 大于等于 0，说明可以完成一圈，返回起始点 `start`。
   - 否则返回 -1。

