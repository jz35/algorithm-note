# 第75课：多重背包与混合背包

## 一、前置知识
- **单调队列**：用于优化动态规划中的状态转移，能高效处理滑动窗口问题。
- **二维动态规划及其空间压缩技巧**：掌握二维动态规划的基本思想和状态转移方程，学会通过滚动数组等方式压缩空间。
- **01背包**：基础背包问题，每种物品只能选择一次，理解其状态转移方程。
- **完全背包**：每种物品可选择无限次，熟悉其优化方法，如二进制分组。

## 二、多重背包
### 1. 定义
每种物品有给定数量限制，目标是在不超过背包容量的情况下，选择物品使总价值最大化。

### 2. 枚举优化
- **二进制分组优化**：将物品数量按二进制分组，减少枚举规模。例如，物品数量为`cnt`，通过循环`for (int k = 1; k <= cnt; k <<= 1)`，将问题转化为01背包问题，显著降低时间复杂度。
- **单调队列优化**：基于单调队列的性质，优化状态转移过程，适用于特定场景，理解难度较大，需结合具体例子分析。

## 三、混合背包
### 1. 定义
多种背包模型的组合与转化，如将完全背包转化为多重背包，再将多重背包通过二进制分组转化为01背包。

### 2. 解题思路
- **完全背包转化为多重背包**：当物品数量为0时，视为无限选择，可将其转化为有限数量的多重背包问题。
- **多重背包转化为01背包**：通过二进制分组，将多重背包问题转化为01背包问题，利用01背包的解法求解。

## 四、典型题目
### 1. 宝物筛选（无优化）
- **题目描述**：给定n种货物，每种货物有重量、价值和数量，背包容量为t，求不超过背包容量时的最大价值。
- **解题思路**：直接使用多重背包的基本思路，逐个枚举每种物品的数量，更新状态。

### 2. 宝物筛选（二进制分组优化）
- **题目描述**：同上，但通过二进制分组优化。
- **解题思路**：将每种物品按二进制分组，转化为01背包问题，减少枚举次数，提高效率。

### 3. 观赏樱花
- **题目描述**：给定背包容量t，n种货物，每种货物有花费、价值和数量，求最大价值。
- **解题思路**：将完全背包转化为多重背包，再通过二进制分组转化为01背包，利用01背包的解法求解。

### 4. 多重背包单调队列优化
- **题目描述**：同宝物筛选，但使用单调队列优化。
- **解题思路**：理解单调队列的性质，优化状态转移过程，适用于特定场景，需结合具体例子分析。

### 5. 混合背包 + 多重背包普通窗口优化
- **题目描述**：给定每种货币的面值和数量，求在1~m范围内能找零成功的钱数种类。
- **解题思路**：将问题转化为混合背包问题，结合多重背包的普通窗口优化，通过动态规划求解。

## 五、总结
- **多重背包**：掌握二进制分组优化和单调队列优化方法，理解其原理和适用场景。
- **混合背包**：学会将不同背包模型进行转化，灵活运用01背包和多重背包的解法。
- **动态规划优化**：动态规划优化枚举是一个重要话题，后续课程会有进一步讲解，需持续关注和学习。