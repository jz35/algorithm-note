# **C++ ä¸­æµ‹è¯•ä»£ç è¿è¡Œæ—¶é—´çš„æ–¹æ³•**

åœ¨æˆ‘çš„ C++ ä»£ç ä¸­ï¼Œæˆ‘ä½¿ç”¨ `clock()` æ¥æµ‹é‡ `totalNQueens1` å’Œ `totalNQueens2` çš„è¿è¡Œæ—¶é—´ã€‚è¿™é‡Œè¯¦ç»†ä»‹ç»ä¸€ä¸‹ **å¦‚ä½•æµ‹é‡ç¨‹åºè¿è¡Œæ—¶é—´**ã€‚

------

## **1. ä½¿ç”¨ `clock()` è®¡ç®—è¿è¡Œæ—¶é—´**

```cpp
#include <ctime>  // å¼•å…¥ ctime å¤´æ–‡ä»¶
```

`clock()` æ˜¯ C++ æä¾›çš„ä¸€ä¸ªè®¡æ—¶å‡½æ•°ï¼Œè¿”å›çš„æ˜¯ **CPU æ—¶é’Ÿè®¡æ—¶å™¨çš„è®¡æ—¶æ¬¡æ•°**ï¼Œå•ä½æ˜¯ **æ—¶é’Ÿå‘¨æœŸæ•°ï¼ˆclock ticksï¼‰**ã€‚

### **ğŸ“Œ ä»£ç ç¤ºä¾‹**

```cpp
clock_t start, end;

start = clock();  // è®°å½•å¼€å§‹æ—¶é—´
int result = function();  // è¿è¡Œå¾…æµ‹å‡½æ•°
end = clock();  // è®°å½•ç»“æŸæ—¶é—´

double duration = (double)(end - start) / CLOCKS_PER_SEC; // è®¡ç®—è¿è¡Œæ—¶é—´ï¼ˆç§’ï¼‰
cout << "è¿è¡Œæ—¶é—´: " << duration << " ç§’" << endl;
```

### **ğŸ“Œ åœ¨ `main()` ä¸­çš„å®é™…ä»£ç **

```cpp
start = clock();
cout << "æ–¹æ³•1ç­”æ¡ˆ : " << solver.totalNQueens1(n) << endl;
end = clock();
cout << "æ–¹æ³•1è¿è¡Œæ—¶é—´ : " << (double)(end - start) / CLOCKS_PER_SEC << " ç§’" << endl;

start = clock();
cout << "æ–¹æ³•2ç­”æ¡ˆ : " << solver.totalNQueens2(n) << endl;
end = clock();
cout << "æ–¹æ³•2è¿è¡Œæ—¶é—´ : " << (double)(end - start) / CLOCKS_PER_SEC << " ç§’" << endl;
```

### **ğŸ“Œ è®¡ç®—å…¬å¼**

```cpp
(double)(end - start) / CLOCKS_PER_SEC
```

- `end - start`ï¼šè®¡ç®—æ—¶é’Ÿå‘¨æœŸæ•°ï¼ˆ`clock ticks`ï¼‰ã€‚
- `CLOCKS_PER_SEC`ï¼šæ—¶é’Ÿå‘¨æœŸæ•°è½¬åŒ–ä¸º **ç§’** çš„æ¯”ä¾‹ï¼ˆé€šå¸¸æ˜¯ `1000` æˆ– `1000000`ï¼‰ã€‚
- `(double)`ï¼šç±»å‹è½¬æ¢ï¼Œä¿è¯è®¡ç®—ç²¾åº¦ã€‚

------

## **2. `clock()` è®¡æ—¶çš„ä¼˜ç¼ºç‚¹**

âœ… **ä¼˜ç‚¹**ï¼š

1. **æ ‡å‡†åº“æ”¯æŒ**ï¼š`clock()` æ˜¯ `ctime` åº“çš„ä¸€éƒ¨åˆ†ï¼Œ**è·¨å¹³å°å¯ç”¨**ã€‚
2. **é€‚ç”¨äºçŸ­æ—¶é—´ä»»åŠ¡**ï¼šé€‚åˆç”¨äºè®¡ç®—æ¯«ç§’çº§çš„ä»£ç è¿è¡Œæ—¶é—´ã€‚

âŒ **ç¼ºç‚¹**ï¼š

1. **å— CPU è°ƒåº¦å½±å“**ï¼š`clock()` åªè®¡ç®— CPU æ—¶é—´ï¼Œä¸åŒ…æ‹¬ **I/O ç­‰å¾…** å’Œ **å…¶ä»–è¿›ç¨‹çš„å¹²æ‰°**ã€‚
2. **ä¸é€‚ç”¨äºé•¿æ—¶é—´ä»»åŠ¡**ï¼šå¦‚æœç¨‹åºè¿è¡Œæ—¶é—´è¿‡é•¿ï¼ˆæ¯”å¦‚å‡ åˆ†é’Ÿä»¥ä¸Šï¼‰ï¼Œå¯ä»¥è€ƒè™‘ `std::chrono` æä¾›çš„é«˜ç²¾åº¦è®¡æ—¶ã€‚

------

## **3. æ›´é«˜ç²¾åº¦çš„ `std::chrono` è®¡æ—¶**

å¦‚æœä½ å¸Œæœ›è·å¾—æ›´é«˜ç²¾åº¦çš„è®¡æ—¶ï¼ˆä¾‹å¦‚ **çº³ç§’çº§**ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ C++11 çš„ `<chrono>` åº“ï¼š

```cpp
#include <chrono>  // å¼•å…¥ chrono å¤´æ–‡ä»¶

auto start = std::chrono::high_resolution_clock::now();  // è®°å½•å¼€å§‹æ—¶é—´
function();  // è¿è¡Œå¾…æµ‹å‡½æ•°
auto end = std::chrono::high_resolution_clock::now();  // è®°å½•ç»“æŸæ—¶é—´

std::chrono::duration<double> elapsed = end - start;  // è®¡ç®—æ—¶é—´å·®
cout << "è¿è¡Œæ—¶é—´: " << elapsed.count() << " ç§’" << endl;
```

âœ… **`chrono` çš„ä¼˜åŠ¿**ï¼š

- **æ›´é«˜ç²¾åº¦**ï¼ˆçº³ç§’çº§ `nanoseconds`ï¼‰ã€‚
- **ä¸å— CPU è°ƒåº¦å½±å“**ï¼Œè®¡ç®—çœŸå®çš„æ—¶é—´é—´éš”ã€‚

------

### **ğŸ“Œ ä»€ä¹ˆæ—¶å€™ç”¨ `clock()`ï¼Œä»€ä¹ˆæ—¶å€™ç”¨ `chrono`ï¼Ÿ**

| åœºæ™¯                          | é€‚ç”¨æ–¹æ³•      |
| ----------------------------- | ------------- |
| ä»£ç è¿è¡Œæ—¶é—´åœ¨ **ç§’çº§æˆ–ä»¥ä¸‹** | `clock()`     |
| éœ€è¦ **é«˜ç²¾åº¦ï¼ˆçº³ç§’çº§ï¼‰æµ‹é‡** | `std::chrono` |
| ä»£ç è¿è¡Œæ—¶é—´è¾ƒé•¿ï¼ˆ>1 åˆ†é’Ÿï¼‰   | `std::chrono` |

å¯¹äº **è“æ¡¥æ¯ç«èµ›** æˆ– **LeetCode æµ‹è¯•**ï¼Œ**`clock()` è¶³å¤Ÿä½¿ç”¨**ï¼Œä½†å¦‚æœä½ åœ¨åšæ›´é«˜ç²¾åº¦çš„æ€§èƒ½ä¼˜åŒ–ï¼Œå¯ä»¥ç”¨ `chrono`ã€‚

------

## **ğŸ”¹ æ€»ç»“**

1. `clock()` è®¡ç®— CPU è¿è¡Œæ—¶é—´ï¼Œé€‚ç”¨äºçŸ­æ—¶é—´ä»»åŠ¡ï¼š

   ```cpp
   clock_t start = clock();
   function();
   clock_t end = clock();
   double duration = (double)(end - start) / CLOCKS_PER_SEC;
   ```

2. `std::chrono` æä¾›é«˜ç²¾åº¦è®¡æ—¶ï¼Œé€‚ç”¨äºæ›´é•¿æ—¶é—´çš„æµ‹è¯•ï¼š

   ```cpp
   auto start = std::chrono::high_resolution_clock::now();
   function();
   auto end = std::chrono::high_resolution_clock::now();
   std::chrono::duration<double> elapsed = end - start;
   ```

åœ¨ä½ çš„ `N çš‡åé—®é¢˜` ä»£ç ä¸­ï¼Œ`clock()` **è¶³å¤Ÿç²¾ç¡®**ï¼Œèƒ½å¤Ÿæ¸…æ¥šåœ°æµ‹é‡ `totalNQueens1` å’Œ `totalNQueens2` çš„è¿è¡Œæ—¶é—´å·®å¼‚ã€‚ğŸš€