# 第49课：滑动窗口技巧和相关题目

## 一、滑动窗口技巧概述

### （一）定义

滑动窗口是一种用于求解子数组（或子串）相关问题的算法技巧。它通过维持一个左、右边界都不回退的一段范围，来高效地解决问题。

### （二）关键点

- **范围和答案指标的单调性关系**：找到范围和答案指标之间的单调性关系，类似于贪心算法的思想。
- **滑动过程**：滑动窗口可以用简单变量或者数据结构来维护信息。
- **求解大流程**：求解子数组在每个位置开头或结尾情况下的答案（开头还是结尾取决于个人习惯）。

### （三）注意事项

- 滑动窗口维持最大值或者最小值的更新结构，在单调队列部分会详细讲述。

## 二、滑动窗口技巧的应用

### （一）累加和大于等于target的最短子数组长度

- **问题描述**：给定一个含有n个正整数的数组和一个正整数target，找到累加和>=target的长度最小的子数组并返回其长度。如果不存在符合条件的子数组返回0。
- **解题思路**：使用滑动窗口，右边界不断向右扩展，累加和增加；当累加和大于等于target时，左边界向右收缩，尝试找到更短的子数组。
- **测试链接**：[LeetCode - Minimum Size Subarray Sum](https://leetcode.cn/problems/minimum-size-subarray-sum/)

### （二）无重复字符的最长子串

- **问题描述**：给定一个字符串s，找出其中不含有重复字符的最长子串的长度。
- **解题思路**：使用滑动窗口，右边界不断向右扩展，同时用哈希表记录字符的出现情况；当遇到重复字符时，左边界向右收缩，直到没有重复字符。
- **测试链接**：[LeetCode - Longest Substring Without Repeating Characters](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)

### （三）最小覆盖子串

- **问题描述**：给定字符串s和t，返回s中涵盖t所有字符的最小子串。如果s中不存在涵盖t所有字符的子串，则返回空字符串""。
- **解题思路**：使用滑动窗口，右边界不断向右扩展，同时用哈希表记录t中字符的出现情况；当窗口包含t的所有字符时，左边界向右收缩，尝试找到更短的子串。
- **测试链接**：[LeetCode - Minimum Window Substring](https://leetcode.cn/problems/minimum-window-substring/)

### （四）加油站

- **问题描述**：在一条环路上有n个加油站，每个加油站有gas[i]升汽油，从第i个加油站开往第i+1个加油站需要消耗cost[i]升汽油。从某个加油站出发，油箱容量无限，开始时油箱为空。返回可以绕环路行驶一周的出发加油站编号，否则返回-1。如果存在解，则保证它是唯一的。
- **解题思路**：使用滑动窗口，模拟汽车在环路上行驶的过程，计算每个加油站的油量净增减，找到可以完成一圈的起始点。
- **测试链接**：[LeetCode - Gas Station](https://leetcode.cn/problems/gas-station/)

### （五）替换子串得到平衡字符串

- **问题描述**：给定一个只含有'Q','W','E','R'四种字符，且长度为n的字符串，n为4的整数倍。如果四个字符都恰好出现n/4次，则是平衡字符串。通过替换一个子串，使原字符串变成平衡字符串，返回待替换子串的最小可能长度。如果原字符串自身是平衡字符串，则返回0。
- **解题思路**：使用滑动窗口，统计每个字符的出现次数，找到需要替换的子串，使窗口内的字符满足平衡条件。
- **测试链接**：[LeetCode - Replace the Substring for Balanced String](https://leetcode.cn/problems/replace-the-substring-for-balanced-string/)

### （六）K个不同整数的子数组

- **问题描述**：给定一个正整数数组nums和一个整数k，返回nums中「好子数组」的数目。如果nums的某个子数组中不同整数的个数恰好为k，则称这个子数组为「好子数组」。
- **解题思路**：使用滑动窗口，统计窗口内不同整数的个数，当个数等于k时，记录子数组的数目。
- **测试链接**：[LeetCode - Subarrays with K Different Integers](https://leetcode.cn/problems/subarrays-with-k-different-integers/)

### （七）至少有K个重复字符的最长子串

- **问题描述**：给定一个字符串s和一个整数k，找出s中的最长子串，要求该子串中的每一字符出现次数都不少于k。返回这一子串的长度。如果不存在这样的子字符串，则返回0。
- **解题思路**：使用滑动窗口，统计窗口内每个字符的出现次数，当所有字符的出现次数都不少于k时，尝试扩展窗口。
- **测试链接**：[LeetCode - Longest Substring with At Least K Repeating Characters](https://leetcode.cn/problems/longest-substring-with-at-least-k-repeating-characters/)

## 三、总结

滑动窗口技巧是一种高效的算法思想，适用于解决子数组（或子串）相关问题。通过维持一个动态的窗口范围，可以在O(n)的时间复杂度内解决问题。掌握滑动窗口的关键在于理解范围和答案指标之间的单调性关系，并灵活运用简单变量或数据结构来维护窗口内的信息。